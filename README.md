# [포트폴리오 게시판 프로젝트]

## 게시판 프로젝트를 선택한 이유

게시판 서비스를 만드는 것은 웹 프로그래밍의 Hello World 라고 할 수 있는 아주 기초적인 서비스입니다.<br>
웹 개발을 배우고, 데이터베이스를 배운 상태에서 데이터의 CRUD 만으로 구축이 가능한 가장 기본적인 형태의 서비스로,<br>

데이터의 입력(Create), 출력(Read), 수정(Update), 삭제(Delete) 의 기본적인 조작 능력을 보여주며,<br>
데이터를 어떻게 다루어야 하는지에 대해 알 수 있는 필요 최소한의 기능의 묶음이라고 저는 생각합니다.<br>

이러한 기본적인 서비스임에도 오늘날 많은 기업들이 게시판 프로젝트를 개발자의 실력을 측량하는 기준으로 보는 이유는,<br>

위에서 설명드렸듯 게시판 서비스가 웹 개발의 기본으로서, 웹 서비스 개발자에게 필요한 데이터를 다루는 방식과 실력을 가능하기 위한
필요 요소만을 심플하게 보여주는 좋은 예시이기 때문이며,<br>

평가자의 입장에서는 독특한 설계나 복잡한 알고리즘이 제외된 순수한 개발 능력과 방식을 알 수 있기에 빠르게 실력을 평가할 수 있기 때문이라 생각합니다.<br>

이러한 이유로 인해 저는 제 기본적인 개발 능력을 어필하기 위하여 게시판 프로젝트를 포트폴리오로 삼았습니다.

## 게시판 하나를 위해 어디까지 할 수 있을까?

게시판 서비스는 무척이나 단순한 서비스입니다.<br>
게시글을 저장하는 용도의 데이터베이스 테이블을 하나 만들고, 이곳에 CRUD 를 수행하는 API 만을 추가해도 게시판이라는 형태가 갖춰진 것이라고 말 할 수 있습니다.<br>

하지만 이러한 기본적인 형태에서 더 나아가 서비스가 실용성을 갖추고, 개발적, 운영적 측면에서 이점을 가지기 위해 처리되어야 할 부분이 추가될 수 있습니다.<br>

실제 개발 경험상으로 체득한 경험의 지혜와, 지속적인 공부를 통하여 얻은 학문의 지식을 결합하여,<br>
게시판 프로젝트를 하나 만들 때에 어디까지 고려할 수 있고,<br>
개발 실력을 어떻게 해야 최대한 구체적이고 인상적으로 표현할 수 있을 지에 대해 고민하였습니다.<br>

먼저 저는 본 프로젝트에서 게시판이라는 주 도메인에 더불어,<br>
모든 부류의 서비스에 연결될 수 있는 범용성을 가진 인증/인가 도메인을 추가하여,<br>
보다 실제 서비스처럼 구현 하기로 하였습니다.<br>

본 프로젝트를 평가하실 때 제가 고려한 부분에 대해 설명드리겠습니다.

### 먼저 코드 외적인 부분에서의 고려 사항입니다.

1. 멀티 모듈 MSA 구조 :<br>
   게시판과 인증/인가 기능과 같이, 서로 다르지만 분명히 연관되는 기능을 구현하였을 때,<br>
   프로젝트 책임자의 관점에서 유지 보수 및 기능 추가에 대한 코스트를 낮추어 소프트웨어 공학적 목표를 달성할 수 있도록,<br>
   서로 다른 두 도메인을 MSA 개념으로 나누는 방식을 사용하였습니다.<br>
   본 프로젝트에서 보시는 바와 같이 각 마이크로 서비스는 모듈 단위로 나뉘어져 있고,<br>
   각 모듈은 서로 다른 포트번호를 점유하도록 설계하여 결합성을 약화 시켜 독립성을 재고하였습니다.<br>
   이러한 아키텍쳐 측면에서의 처리는 추후 문제가 발생하는 위치에 대한 디버깅을 용이하게 하고,<br>
   서로 다른 코딩 스타일을 가진 숙련된 개발자들간의 독립성을 보장하며,<br>
   코드 재활용 및 대체가 무척이나 용이하게 해주는 장점이 있습니다.<br><br>

2. 효율적인 MSA 구축 및 관리를 위한 Spring Cloud 사용 :<br>
   MSA 를 구축할 때에 저는 Spring Cloud 를 사용하였습니다.<br>
   cloud-eureka 모듈은, auth 나 board 와 같은 마이크로 서비스를 저장하는 역할을 합니다.<br>
   MSA 에서 저금통과 같은 역할을 하며, 모든 마이크로 서비스는 이곳에 모이므로 간단히 상태를 파악하거나, 다른 서비스에서 이러한 정보를 응용할 수 있습니다.<br>
   cloud-gateway 모듈은 클라이언트에게 요청을 받으면, eureka 서버에 등록된 마이크로 서비스를 탐색하고 클라이언트가 요청한 적절한 기능을 가진 마이크로 서비스의 응답을 중계해주는 역할을
   합니다.<br>
   예를 들어 gateway 의 포트번호가 8080 이고, eureka 에 등록된 다른 마이크로 서비스의 포트번호가 각각 11000, 12000 이라고 할 때,<br>
   클라이언트는 gateway 에 해당하는 8080 에 11000 에 해당하는 기능에 대한 요청을 gateway 에서 설정한 주소 체계에 따라 보내면, Gateway 가 Eureka 에서 찾은 11000 서버로
   요청을 보내고 응답을 받아 클라이언트에게 전달해주게 됩니다.<br>
   MSA 에 대한 도구로 spring cloud 를 선택한 구체적인 이유는,<br>
   eureka 서버 내에 복제된 여러 서비스를 동시에 올릴 시에 자동으로 로드 밸런싱 처리를 해주어 트래픽 분산 처리를 간단하게 구현해주며,<br>
   python 과 같이 spring 프레임워크 계열이 아닌 다른 개발 도구로 개발하더라도 동일한 기능을 보장하기 때문입니다.<br><br>

3. 수평적 확장(Scale Out) 고려 :<br>
   위에서 설명 드렸듯 게시판 하나를 만들더라도 수평적 확장을 고려하며 개발을 해야만 합니다.<br>
   평시에는 최소한의 하드웨어 스펙으로 낭비되는 비용을 최소화 하다가도,<br>
   급작스런 트래픽 증가에도 기존 서비스에는 이상이 없도록 빠르게 대응할 수 있게 하기 위해서는, 서비스 복제를 하더라도 동일한 동작을 보장하는 구조를 고려해야만 합니다.<br>
   대표적인 예로는, 서버가 하드웨어 메모리상으로 상태값을 갖게 되면, 이를 복제하였을 때, 복제된 서버와 상태값이 불일치 할 것을 고려해야만 하는 것입니다.<br>
   이를 위하여 2번에서와 같이 Spring Cloud 를 통한 MSA 구조를 만들었으며, Redis, MongoDB, Kafka 와 같은 미들 웨어 역시 클러스터를 구성하는 방식을 사용하였습니다.<br><br>

4. 모듈 단위 TDD(Test Driven Development) :<br>
   멀티 모듈을 통하여 각 도메인 별 test 코드를 달리 둘 수 있습니다.<br>
   본 프로젝트에서는 적용하지 않았지만, 각 기능별 Test Case 를 고려하여 미리 테스트 코드를 만들어두는 TDD 방식을 사용한다면,<br>
   모듈에 대한 신뢰도를 얻을 수 있고, 라이브러리 버전 업, 사용 라이브러리 변경 등의 코드의 근본적인 부분에서의 변경점이 있더라도 빠르게 테스트를 진행할 수 있습니다.<br><br>

### 다음으론 코드 내적에서의 고려사항입니다.

1. 코딩 사용 기술 소개 :<br>
    1) Kotlin : <br>
       Java 의 기본 철학을 그대로 계승하며, Java 와 상호 호환이 가능한 언어이고,<br>
       또한, Java 에서 제공하지 않는 여러 유용한 기능들을 제공합니다.<br>
       대표적으로, Kotlin 에서는 Java 진영에서 사용하는 LOMBOK 을 사용하지 않고도 해당 기능을 언어 자체적으로 지원하며,<br>
       특히 Kotlin 의 Nullable, Not Nullable 변수에 대한 제약은 언어 자체적으로 Null Safety 를 보장합니다.<br><br>

    2) JPA(QueryDSL) :<br>
       JPA 를 사용한 이유는, JDBC 나 Mybatis 와 같은 제가 사용해본 여타 데이터베이스 라이브러리보다 확실히 편리하고 보편적인 ORM 이기 때문입니다.
       Join 과 같은 복잡한 쿼리문에 대해선 QueryDSL 을 사용하여 서로 다른 데이터베이스 간에도 호환성을 보장할 수 있는 ORM 의 장점을 살렸습니다.<br><br>

    3) Retrofit2 :<br>
       Springboot 진영에서 네트워크 요청 라이브러리로 자주 사용되는 RestTemplate 이나 WebClient 를 놔두고 Retrofit2 를 사용한 이유는,<br>
       Retrofit2 가 안드로이드 진영에서 자주 사용되던 것이기에 안드로이드 개발과 병행하던 시절에 혼용해 사용하기 위해서 선택했던 것입니다.<br>
       물론 이러한 이유뿐 아니라, Retrofit2 는 OKHTTP 를 래핑하여 모바일 환경을 위해 만들어진 라이브러리이므로 빠르고 가볍다는 장점도 있으며, 사용법도 간단하다는 장점이 있습니다.<br><br>

    4) Swagger :<br>
       클라이언트에 대한 문서화 기능으로 매우 유용한 기능을 제공해줍니다.<br>
       개발시에는 작성한 API 컨트롤러 코드에 대하여 설명을 강제하기에 따로 주석을 작성하지 않아도 코드에 대한 설명으로 작용한다는 장점을 가집니다.<br><br>

    5) Spring Security :<br>
       인증/인가 처리에 대하여 패턴화하여, 복잡할 수 있는 인증/인가 처리를 간편하게 설정 및 적용이 가능합니다.<br><br>

    6) Redis :<br>
       공유 메모리로 사용되며, 공유 락으로도 사용하고 있습니다.<br>
       클러스터링을 통한 메모리 안정화를 적용 가능합니다.<br><br>

    7) Kafka :<br>
       MSA 간의 이벤트 통신으로 사용하고 있습니다.<br>
       그룹 아이디를 통하여 서버 복제에 따른 스케일 아웃에도 대응됩니다.<br><br>

2.  